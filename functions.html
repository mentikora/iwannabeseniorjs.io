<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>iwannabeseniorjs.io</title>
  <link rel="stylesheet" type="text/css" href="css/application.css">
</head>
<body>
  <section class="section_content">
    <a href="index.html">&larr; back</a>
    <h1>Functions</h1>
    <p class="text_style">
      Homework info: <a href="https://gist.github.com/CubaSAN/75084f02bab5f3033aa76bfe4dddf40e" target="_blank">https://gist.github.com/CubaSAN/75084f02bab5f3033aa76bfe4dddf40e</a>
    </p>
    <div class="divider"></div>

    <h2>1. Написати гру “Вгадай число”</h2>
    <p class="text_style">
      Система видає повідомлення “Чи бажаєте почати гру?” <br>
      // для цього потрібно буде використати confirm()<br>
      Якщо користувач клікає “cancel” - виводимо в консоль “Сьогодні ви не виграли мільйон, а могли”, якщо клікає клікає “ок” - починаємо гру: випадковим чином вибираємо число в проміжку від 0 до 5, просимо користувача ввести число.<br>
      Користувач має 3 спроби щоб вгадати<br>
      Якщо вгадав з першої спроби - виграв 10$, з другої - 5$, з третьої - 2$<br>
      Якщо не вгадав, виводимо в консоль “Ваш виграш - 0$”, окрім цього питаємо чи хоче користувач зіграти ще раз.<br>
      Якщо таки вгадав, то питаємо чи хоче продовжити гру<br>
      // для цього потрібно буде використати confirm()<br>
      Якщо не хоче, виводимо в консоль “Дякуємо за гру, ваш виграш становить ...”<br>
      Якщо продовжує, то збільшуємо проміжок вдвічі, призові - множимо на 3, тобто: вгадав з першої спроби - виграв 30$, з другої - 15$, з третьої - 6$. Виграш додається до попереднього.<br>
      Все повторюється до того моменту, поки користувач не програє, або поки не захоче завершити.
    </p>
    <pre>
      <code>

      </code>
    </pre>
    <button onclick="q1()">show result</button>
  <script>
  
  function q1(){
    var start = confirm("So, you wanna play a Game? *evil laugh*");
    if (!start) { return alert('Bye-bye, see you again next time! *evil sorrow*') }

    function game(){
      
      var userStep = 3;
      var prize = 10;
      var prizeStep = 1;

      var createRandomNumber = 2;//parseInt(Math.random() * 6);
      

      var round = function(prize, userStep){
        var x = 0;
        for (var i = 3; userStep < i; i--) {
          if (userStep === 0) {
            console.log('Bye-bye');
            prize = x = 0;
            break;
          }
          prize = parseInt(prize/2);
        }
        return prize + x
      };
      // console.log(round(prize, userStep));

      var attempt = function(prize, prizeStep){
        for (var i = 1; prizeStep > i; i++) {
          prize *= 3
        }
        return prize
      };
      
      // console.log(attempt(prize, 1));
      function us(userStep){
        
        if (userStep>0) {
          var userNumber = prompt("Guess number ranging 0 - 5");

          if(createRandomNumber == userNumber){
            round(prize, userStep);
            console.log('Right! You win ' + prize);
            var p = confirm('Next?');
            if(p){
              prize = attempt(prize, prizeStep + 1);
              console.log('Prize for 1th place is ' + prize );
              us(3);
            }
          } 
          else {
            prize = round(prize, userStep-1);
            console.log('False');
            us(userStep-1);
          }
        } 
        console.log('random is:'+createRandomNumber, 'user number is: '+userNumber);
      }
      us(3);

    }
    game();    

  }
  </script>
  </section>
</body>
</html>